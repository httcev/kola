<ion-view>
  <ion-nav-title>Meine Notizen</ion-nav-title>
  <ion-nav-buttons side="secondary">
    <button class="button icon ion-plus-round" ng-click="addNote()"></button>
  </ion-nav-buttons>
  <ion-content>
    <div ng-if="!notes" class="center-horizontal">
      <ion-spinner></ion-spinner>
    </div>
    <div class="list card" ng-repeat="note in notes track by note._id">
      <div class="item item-text-wrap">
        <div class="created-date">{{note.created_at | date}}, {{note.creator}}</div>
        {{note.text}}
      </div>
      <media-attachments ng-model="note" hide-header="true"></media-attachments>
      <div class="item tabs tabs-secondary">
        <button class="button button-clear icon ion-trash-a" ng-click="remove(note)"></button>
      </div>
    </div>

    <div ng-if="newNote" class="list card">
      <div class="item item-text-wrap">
        <textarea ng-model="newNote.text" class="fullwidth" rows="8" placeholder="Geben Sie hier Ihre Notiz ein..." autofocus></textarea>
      </div>
      <media-attachments ng-model="newNote" hide-header="true"></media-attachments>

      <div class="item tabs tabs-secondary">
        <button class="button button-clear button-positive" ng-click="attachPhoto(newNote)"><i class="icon ion-camera"></i></button>
        <button class="button button-clear button-positive" ng-click="attachVideo(newNote)"><i class="icon ion-videocamera"></i></button>
        <button class="button button-clear button-positive" ng-click="attachAudio(newNote)"><i class="icon ion-mic-a"></i></button>
        <button class="button button-clear icon ion-trash-a" ng-click="remove(newNote)"></button>
        <button class="button button-clear button-positive" ng-click="save(newNote)"><i class="icon balanced ion-paper-airplane"></i></button>
      </div>
    </div>
    <div ng-hide="!notes || notes.length || newNote" class="padding">Bisher sind noch keine Notizen angelegt.</div>
  </ion-content>
</ion-view>
